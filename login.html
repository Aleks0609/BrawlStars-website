<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Brawl Stars Spieler Informationen</title>
    <style>
        /* Stil für den Container des Login-Feldes */
        .login-container {
            position: absolute;
            top: 10px; /* Abstand von oben */
            right: 10px; /* Abstand von rechts */
            background-color: #f8f8f8; /* Hintergrundfarbe */
            padding: 10px; /* Innenabstand */
            border-radius: 5px; /* Abgerundete Ecken */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Leichter Schatten */
        }

        /* Stil für das Hauptüberschrift */
        h1 {
            text-align: center; /* Zentriert die Hauptüberschrift */
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            // Wenn der Knopf mit der ID fetchButton "click()" ed wurde.
            $('#fetchButton').click(function() {
                // Hole den Spieler-Tag aus dem Eingabefeld
                var playerTag = $('#playerTag').val().toUpperCase().replace('#', '%23');
                
                // Von wo erhalten wir unsere Informationen
                $.ajax({
                    url: 'login.php',
                    type: 'POST',
                    data: { playerTag: playerTag },
                    dataType: 'json',
                    // success ist der Bereich der ausgeführt wird wenn der CALL erfolgreich war.
                    success: function(data) {
                        console.log(data);
                        // info als HTML-Gerüst wird vorbereitet
                        var info = '<h2>' + data.name + ' (' + data.tag + ')</h2>';
                        info += '<p>Trophäen: ' + data.trophies + '</p>';
                        info += '<p>Level: ' + data.expLevel + '</p>';
                        // info wird nun in das div mit der ID playerInfo eingefügt
                        $('#playerInfo').html(info);
                    },
                    // Bei einer fehlerhaften Abfrage
                    error: function() {
                        alert('Fehler beim Abrufen der Spieler-Daten!');
                    }
                });
            });
        });
    </script>
</head>
<body>
    <h1>Brawl Stars Spieler Informationen</h1>
    
    <!-- Login-Container, der rechts oben platziert wird -->
    <div class="login-container">
        <input type="text" id="playerTag" placeholder="Spieler-Tag eingeben">
        <button id="fetchButton">Hole Spieler Informationen</button>
    </div>
    
    <!-- Div, in dem die Spielerinformationen angezeigt werden -->
    <div id="playerInfo"></div>
</body>
</html>